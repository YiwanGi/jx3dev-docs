<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><title>ws Service | JX3DEV - 开发文档</title><meta name="description" content="JX3DEV用户交流群：110001110011011100001">
    <link rel="modulepreload" href="/assets/app.1a5be007.js"><link rel="modulepreload" href="/assets/ErrorCode-ws.html.116b0c82.js"><link rel="modulepreload" href="/assets/ErrorCode-ws.html.cdabacfe.js"><link rel="prefetch" href="/assets/APIinterface.html.2671af1e.js"><link rel="prefetch" href="/assets/About.html.8869413d.js"><link rel="prefetch" href="/assets/Customized.html.4c878a1f.js"><link rel="prefetch" href="/assets/Demonstration.html.95be7d6b.js"><link rel="prefetch" href="/assets/ErrorCode-http.html.b4c3f7a6.js"><link rel="prefetch" href="/assets/FAQ.html.83fe14e5.js"><link rel="prefetch" href="/assets/LOG.html.fd2a0059.js"><link rel="prefetch" href="/assets/index.html.08a496b7.js"><link rel="prefetch" href="/assets/Smsdirect.html.9b8e665a.js"><link rel="prefetch" href="/assets/Subscribe.html.c46a54fa.js"><link rel="prefetch" href="/assets/Template.html.964f57f5.js"><link rel="prefetch" href="/assets/Unlimited.html.96c18adb.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/APIinterface.html.ea1bd4dd.js"><link rel="prefetch" href="/assets/About.html.6a700f3a.js"><link rel="prefetch" href="/assets/Customized.html.cba3cfad.js"><link rel="prefetch" href="/assets/Demonstration.html.b5df4cec.js"><link rel="prefetch" href="/assets/ErrorCode-http.html.3c5a9201.js"><link rel="prefetch" href="/assets/FAQ.html.56595bd5.js"><link rel="prefetch" href="/assets/LOG.html.3c83be8d.js"><link rel="prefetch" href="/assets/index.html.ca143fb4.js"><link rel="prefetch" href="/assets/Smsdirect.html.1891cca6.js"><link rel="prefetch" href="/assets/Subscribe.html.b85f4dc1.js"><link rel="prefetch" href="/assets/Template.html.632503ac.js"><link rel="prefetch" href="/assets/Unlimited.html.addc27d4.js"><link rel="prefetch" href="/assets/404.html.774e93a0.js">
    <link rel="stylesheet" href="/assets/style.96ee71b5.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">JX3DEV - 开发文档</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://www.jx3dev.com/?qq=1100001011010110111001000111111&amp;hex=binary" rel="noopener noreferrer" target="_blank" aria-label="Trades"><!--[--><!--]--> Trades <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a aria-current="page" href="/ErrorCode-ws.html#" class="router-link-active router-link-exact-active" aria-label="特别说明：由于项目未正式上线，仅供测试使用，API接口随时可能会进行调整。(请使用 test.jx3dev.com 接入服务)"><!--[--><!--]--> 特别说明：由于项目未正式上线，仅供测试使用，API接口随时可能会进行调整。(请使用 test.jx3dev.com 接入服务) <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Dev必读"><span class="title">Dev必读</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Dev必读"><span class="title">Dev必读</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/ErrorCode-ws.html" class="router-link-active router-link-exact-active router-link-active" aria-label="ws Service"><!--[--><!--]--> ws Service <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ErrorCode-http.html" class="" aria-label="http Service"><!--[--><!--]--> http Service <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Api接口"><span class="title">Api接口</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Api接口"><span class="title">Api接口</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Unlimited.html" class="" aria-label="开放接口"><!--[--><!--]--> 开放接口 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/APIinterface.html" class="" aria-label="数据接口"><!--[--><!--]--> 数据接口 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Template.html" class="" aria-label="视图接口"><!--[--><!--]--> 视图接口 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="See更多"><span class="title">See更多</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="See更多"><span class="title">See更多</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Subscribe.html" class="" aria-label="推送事件"><!--[--><!--]--> 推送事件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Smsdirect.html" class="" aria-label="短信指令"><!--[--><!--]--> 短信指令 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Demonstration.html" class="" aria-label="开源项目"><!--[--><!--]--> 开源项目 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Customized.html" class="" aria-label="私人定制"><!--[--><!--]--> 私人定制 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/FAQ.md" class="" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/LOG.md" class="" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/About.md" class="" aria-label="关于我们"><!--[--><!--]--> 关于我们 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/YiwanGi/jx3dev-docs" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="切换颜色模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://www.jx3dev.com/?qq=1100001011010110111001000111111&amp;hex=binary" rel="noopener noreferrer" target="_blank" aria-label="Trades"><!--[--><!--]--> Trades <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a aria-current="page" href="/ErrorCode-ws.html#" class="router-link-active router-link-exact-active" aria-label="特别说明：由于项目未正式上线，仅供测试使用，API接口随时可能会进行调整。(请使用 test.jx3dev.com 接入服务)"><!--[--><!--]--> 特别说明：由于项目未正式上线，仅供测试使用，API接口随时可能会进行调整。(请使用 test.jx3dev.com 接入服务) <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Dev必读"><span class="title">Dev必读</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Dev必读"><span class="title">Dev必读</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/ErrorCode-ws.html" class="router-link-active router-link-exact-active router-link-active" aria-label="ws Service"><!--[--><!--]--> ws Service <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ErrorCode-http.html" class="" aria-label="http Service"><!--[--><!--]--> http Service <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Api接口"><span class="title">Api接口</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Api接口"><span class="title">Api接口</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Unlimited.html" class="" aria-label="开放接口"><!--[--><!--]--> 开放接口 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/APIinterface.html" class="" aria-label="数据接口"><!--[--><!--]--> 数据接口 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Template.html" class="" aria-label="视图接口"><!--[--><!--]--> 视图接口 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="See更多"><span class="title">See更多</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="See更多"><span class="title">See更多</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/Subscribe.html" class="" aria-label="推送事件"><!--[--><!--]--> 推送事件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Smsdirect.html" class="" aria-label="短信指令"><!--[--><!--]--> 短信指令 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Demonstration.html" class="" aria-label="开源项目"><!--[--><!--]--> 开源项目 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/Customized.html" class="" aria-label="私人定制"><!--[--><!--]--> 私人定制 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/FAQ.md" class="" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/LOG.md" class="" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/About.md" class="" aria-label="关于我们"><!--[--><!--]--> 关于我们 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/YiwanGi/jx3dev-docs" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">ws Service <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ErrorCode-ws.html#建立连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="建立连接"><!--[--><!--]--> 建立连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ErrorCode-ws.html#调用api接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="调用API接口"><!--[--><!--]--> 调用API接口 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ErrorCode-ws.html#请求成功示例" class="router-link-active router-link-exact-active sidebar-item" aria-label="请求成功示例"><!--[--><!--]--> 请求成功示例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ErrorCode-ws.html#请求失败示例" class="router-link-active router-link-exact-active sidebar-item" aria-label="请求失败示例"><!--[--><!--]--> 请求失败示例 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="ws-service" tabindex="-1"><a class="header-anchor" href="#ws-service" aria-hidden="true">#</a> ws Service</h1><table><thead><tr><th>code<br>状态码</th><th>errorCode<br>错误码</th><th>代码含义</th><th>详细说明</th><th style="text-align:center;">断开连接</th></tr></thead><tbody><tr><td>1402</td><td></td><td>Dev token to be paid</td><td>dev-token 待付款</td><td style="text-align:center;"></td></tr><tr><td>1400</td><td></td><td>JSON format parsing failed</td><td>JSON 格式解析失败</td><td style="text-align:center;"></td></tr><tr><td>1404</td><td></td><td>API interface does not exist</td><td>API 接口不存在</td><td style="text-align:center;"></td></tr><tr><td></td><td>-9000</td><td>Forced offline</td><td>被迫离线</td><td style="text-align:center;">√</td></tr><tr><td></td><td>-10000</td><td>Unknown error</td><td>未知错误</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10001</td><td>Illegal request I</td><td>非法请求 I</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10002</td><td>Illegal request II</td><td>非法请求 II</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10003</td><td>Illegal request III</td><td>非法请求 III</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10004</td><td>Interface maintenance</td><td>接口维护</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10005</td><td>Interface offline</td><td>接口下线</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10006</td><td>Upstream fault</td><td>上游故障</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10007</td><td>Unauthorized call</td><td>无权限调用</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10008</td><td>Call is pre restricted</td><td>调用受限制</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10009</td><td>Data does not exist</td><td>数据不存在</td><td style="text-align:center;"></td></tr><tr><td></td><td>-10010</td><td>...</td><td>...</td><td style="text-align:center;"></td></tr></tbody></table><h5 id="注意" tabindex="-1"><a class="header-anchor" href="#注意" aria-hidden="true">#</a> 注意：</h5><ul><li>推送事件以及断开连接不会携带或返回 <code>mark</code> 字段</li><li>订阅推送事件 <code>code状态码</code> 为 1201 <code>msg</code> 为 <a href="/Subscribe.html" class="">事件名称</a></li><li>系统推送事件 <code>code状态码</code> 为 1202 <code>msg</code> 恒定为 <code>JX3DEV</code></li></ul><h6 id="除以上-code状态码-为-14xx-1201-1202-的-其余情况无论操作成功与否-code状态码-均为-1200" tabindex="-1"><a class="header-anchor" href="#除以上-code状态码-为-14xx-1201-1202-的-其余情况无论操作成功与否-code状态码-均为-1200" aria-hidden="true">#</a> 除以上 <code>code状态码</code> 为 14xx / 1201 / 1202 的 其余情况无论操作成功与否 <code>code状态码</code> 均为 1200</h6><h3 id="建立连接" tabindex="-1"><a class="header-anchor" href="#建立连接" aria-hidden="true">#</a> 建立连接</h3><h5 id="你应当建立心跳检测-ping-pong-以及断线重连机制。" tabindex="-1"><a class="header-anchor" href="#你应当建立心跳检测-ping-pong-以及断线重连机制。" aria-hidden="true">#</a> 你应当建立心跳检测(ping==&gt;&lt;==pong)以及断线重连机制。</h5><ul><li>心跳检测仅限于客户端发送ping，服务端回应pong，应为 string / opcode 。</li><li>GET参数或请求头中的 Dev-Token 为你的 16位 devToken</li><li>Dev-Token 校验优先级：<code>[get &gt; header]</code></li></ul><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code># HTTP升级为WebSokect(Dev-Token in get)
<span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/ws?Dev-Token={{devToken}}</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">data.jx3dev.com</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade</span><span class="token punctuation">:</span> <span class="token header-value">websocket</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">Upgrade</span></span>
<span class="token header"><span class="token header-name keyword">Sec-WebSocket-Key</span><span class="token punctuation">:</span> <span class="token header-value">dGhlIHNhbXBsZSBub25jZQ==</span></span>
<span class="token header"><span class="token header-name keyword">Sec-WebSocket-Version</span><span class="token punctuation">:</span> <span class="token header-value">13</span></span>

# HTTP升级为WebSokect(Dev-Token in header)
<span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/ws</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">data.jx3dev.com</span></span>
<span class="token header"><span class="token header-name keyword">Dev-Token</span><span class="token punctuation">:</span> <span class="token header-value">{{devToken}}</span></span>
<span class="token header"><span class="token header-name keyword">Upgrade</span><span class="token punctuation">:</span> <span class="token header-value">websocket</span></span>
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">Upgrade</span></span>
<span class="token header"><span class="token header-name keyword">Sec-WebSocket-Key</span><span class="token punctuation">:</span> <span class="token header-value">dGhlIHNhbXBsZSBub25jZQ==</span></span>
<span class="token header"><span class="token header-name keyword">Sec-WebSocket-Version</span><span class="token punctuation">:</span> <span class="token header-value">13</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="出现以下情况-服务器将直接拒绝连接。" tabindex="-1"><a class="header-anchor" href="#出现以下情况-服务器将直接拒绝连接。" aria-hidden="true">#</a> 出现以下情况，服务器将直接拒绝连接。</h5><ul><li>请求方法不被支持</li><li>请求路径不被支持</li><li><code>dev-token</code> 未提供</li><li><code>dev-token</code> 已失效</li><li><code>dev-token</code> 对应用户未获得许可</li><li><code>dev-token</code> 对应用户正在接受检查</li></ul><h3 id="调用api接口" tabindex="-1"><a class="header-anchor" href="#调用api接口" aria-hidden="true">#</a> 调用API接口</h3><h5 id="目前仅支持通过-json-格式与服务器进行数据交互。" tabindex="-1"><a class="header-anchor" href="#目前仅支持通过-json-格式与服务器进行数据交互。" aria-hidden="true">#</a> 目前仅支持通过 JSON 格式与服务器进行数据交互。</h5><h6 id="这里的-controller-action-参数用于指定要调用的-api-具体参考-api-params-用于传入参数-你必须提供-ts-参数且与服务器差值应为-±5-分钟-否则将被视为非法请求-mark-参数是可选的-类似于-json-rpc-的-id-字段-用于唯一标识一次请求-可以是任何类型的数据-服务器将会在调用结果中原样返回。" tabindex="-1"><a class="header-anchor" href="#这里的-controller-action-参数用于指定要调用的-api-具体参考-api-params-用于传入参数-你必须提供-ts-参数且与服务器差值应为-±5-分钟-否则将被视为非法请求-mark-参数是可选的-类似于-json-rpc-的-id-字段-用于唯一标识一次请求-可以是任何类型的数据-服务器将会在调用结果中原样返回。" aria-hidden="true">#</a> 这里的 controller|action 参数用于指定要调用的 API，具体参考 <a href="/APIinterface.html" class="">API</a>；params 用于传入参数，你必须提供 ts 参数且与服务器差值应为 ±5 分钟，否则将被视为非法请求；<code>mark</code> 参数是可选的，类似于 <a href="https://www.jsonrpc.org/specification" target="_blank" rel="noopener noreferrer">JSON RPC<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span></a> 的 id 字段，用于唯一标识一次请求，可以是任何类型的数据，服务器将会在调用结果中原样返回。</h6><h6 id="调用-数据接口-的-index-接口-获取api列表" tabindex="-1"><a class="header-anchor" href="#调用-数据接口-的-index-接口-获取api列表" aria-hidden="true">#</a> 调用 <a href="/APIinterface.html" class="">数据接口</a> 的 <code>index</code> 接口 &lt;获取API列表&gt;</h6><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;controller&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;mark&quot;</span><span class="token operator">:</span> <span class="token number">-123456789</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span> <span class="token number">1697984542</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="请求成功示例" tabindex="-1"><a class="header-anchor" href="#请求成功示例" aria-hidden="true">#</a> 请求成功示例</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">1200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;controller&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;interface&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>...<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;extra&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;mark&quot;</span><span class="token operator">:</span> <span class="token number">-123456789</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span> <span class="token number">1697984542</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="请求失败示例" tabindex="-1"><a class="header-anchor" href="#请求失败示例" aria-hidden="true">#</a> 请求失败示例</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">1200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;errorCode&quot;</span><span class="token operator">:</span> <span class="token number">-10000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;errorExtra&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;mark&quot;</span><span class="token operator">:</span> <span class="token number">-123456789</span><span class="token punctuation">,</span>
            <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span> <span class="token number">1697984542</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Unknown error&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/YiwanGi/jx3dev-docs/edit/main/docs/ErrorCode-ws.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><!--]--> 编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口中打开</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上一次编辑: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者列表: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1634431551@qq.com">LY-2022</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.1a5be007.js" defer></script>
  </body>
</html>
